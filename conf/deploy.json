{
  "defaultStacks": [ "content-api-floodgate"],
  "packages": {
    "content-api-floodgate": {
      "type": "autoscaling",
      "data": {
        "bucket": "content-api-dist"
      }
    },
    "content-api-floodgate-ami-update" : {
        "type": "ami-cloudformation-parameter",
        "data": {
            "amiTags" : { "Recipe": "ubuntu-wily-java8", "AmigoStage" : "PROD" },
            "amiParameter" : "AMI",
            "cloudFormationStackName": "content-api-floodgate",
            "prependStackToCloudFormationStackName" : false,
            "appendStageToCloudFormationStackName" : true
        }
    }
  },
  "recipes": {
    "default": {
      "depends": [ "artifactUploadOnly", "deployOnly" ]
    },
    "artifactUploadOnly": {
      "actions": [ "content-api-floodgate.uploadArtifacts" ]
    },
    "deployOnly": {
      "actions": [ "content-api-floodgate.deploy" ]
    },
    "ami-cloudformation-parameter" : {
        "actions": [ "content-api-floodgate-ami-update.update" ]
    }
  }
}
